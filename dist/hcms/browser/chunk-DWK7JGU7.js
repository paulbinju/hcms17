import{a as Be}from"./chunk-7KMWUQO2.js";import{e as xe,f as _e,g as Ee,j as we,l as Ie}from"./chunk-HADP2H3U.js";import{a as De}from"./chunk-SFKYACBD.js";import{a as Ne,b as Te}from"./chunk-ECUZM33V.js";import{a as ke,c as Fe,f as Re}from"./chunk-3RDWP4SV.js";import{a as je,b as Ae}from"./chunk-IN2BF4QS.js";import{e as Me}from"./chunk-RN2K4HIW.js";import{a as ye,c as Se}from"./chunk-DK5W4DIX.js";import{M as Ce,O as be}from"./chunk-CVYJYPYN.js";import{$ as S,$d as ne,Ac as ie,Ae as ge,B as O,Bc as re,Ca as s,Da as v,Fc as ae,Gc as w,Hc as j,Ia as P,Ic as oe,La as D,Na as c,Ob as N,Qb as L,Rb as Q,U as H,V as M,Wa as o,Wb as Z,X as U,Xa as n,Ya as g,Yb as W,_ as y,_b as J,ab as x,da as k,db as h,e as V,ea as F,ee as le,fb as _,fe as de,ge as I,je as me,l as q,mb as z,mc as T,me as se,nb as G,ne as ce,ob as $,oc as K,oe as pe,qb as d,qc as p,sb as E,sc as X,se as fe,tc as Y,vc as ee,ve as ue,we as ve,xc as te,ze as he}from"./chunk-5OTRJNO2.js";import{g as t}from"./chunk-RZFRLYII.js";var C=class{constructor(i){t(this,"id");t(this,"title");t(this,"category");t(this,"startDate");t(this,"endDate");t(this,"details");this.id=i.id||this.getRandomID(),this.title=i.title||"",this.category=i.category||"",this.startDate=N(new Date,"yyyy-MM-dd","en")||"",this.endDate=N(new Date,"yyyy-MM-dd","en")||"",this.details=i.details||""}getRandomID(){let i=()=>((1+Math.random())*65536|0).toString(16).substring(1);return i()+i()}};var b=(()=>{let i=class i{constructor(m){t(this,"httpClient");t(this,"API_URL","assets/data/calendar.json");t(this,"httpOptions",{headers:new W({"Content-Type":"application/json"})});t(this,"dataChange",new V([]));t(this,"dialogData");this.httpClient=m}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllCalendars(){return this.httpClient.get(this.API_URL).pipe(O(this.errorHandler))}addUpdateCalendar(m){this.dialogData=m}deleteCalendar(m){this.dialogData=m}errorHandler(m){let e="";return m.error instanceof ErrorEvent?e=m.error.message:e=`Error Code: ${m.status}
Message: ${m.message}`,console.log(e),q(e)}};t(i,"\u0275fac",function(e){return new(e||i)(U(J))}),t(i,"\u0275prov",H({token:i,factory:i.\u0275fac}));let a=i;return a})();function Ge(a,i){if(a&1){let f=x();o(0,"div",19)(1,"button",24),h("click",function(){k(f);let e=_();return F(e.deleteEvent())}),o(2,"mat-icon",25),d(3,"delete"),n()()()}}var A=(()=>{let i=class i{constructor(m,e,r,l){t(this,"dialogRef");t(this,"data");t(this,"calendarService");t(this,"fb");t(this,"action");t(this,"dialogTitle");t(this,"calendarForm");t(this,"calendar");t(this,"showDeleteBtn",!1);t(this,"formControl",new ee("",[p.required]));this.dialogRef=m,this.data=e,this.calendarService=r,this.fb=l,this.action=e.action,this.action==="edit"?(this.dialogTitle=e.calendar.title,this.calendar=e.calendar,this.showDeleteBtn=!0):(this.dialogTitle="New Event",this.calendar=new C({}),this.showDeleteBtn=!1),this.calendarForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.calendar.id],title:[this.calendar.title,[p.required]],category:[this.calendar.category],startDate:[this.calendar.startDate,[p.required]],endDate:[this.calendar.endDate,[p.required]],details:[this.calendar.details]})}submit(){}deleteEvent(){this.calendarService.deleteCalendar(this.calendarForm.getRawValue()),this.dialogRef.close("delete")}onNoClick(){this.dialogRef.close()}confirmAdd(){this.calendarService.addUpdateCalendar(this.calendarForm.getRawValue()),this.dialogRef.close("submit")}};t(i,"\u0275fac",function(e){return new(e||i)(v(xe),v(_e),v(b),v(w))}),t(i,"\u0275cmp",y({type:i,selectors:[["app-form-dialog"]],decls:60,vars:10,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"font-weight-bold","p-t-5","font-17"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","title","required",""],["matSuffix",""],["formControlName","category","required",""],[3,"value"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12"],["matInput","","formControlName","details"],[1,"col-xl-10","col-lg-10","col-md-12","col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"type","disabled","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"col-xl-2","col-lg-2","col-md-12","col-sm-12"],["class","example-button-row",4,"ngIf"],["mat-mini-fab","","aria-label","","color","warn",3,"click"],[1,"font-20"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),d(6),n()()()(),o(7,"button",6),h("click",function(){return r.dialogRef.close()}),o(8,"mat-icon"),d(9,"close"),n()()(),o(10,"div",7)(11,"form",8)(12,"div",9)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),d(16,"Title"),n(),g(17,"input",12),o(18,"mat-icon",13),d(19,"turned_in_not"),n()()()(),o(20,"div",9)(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),d(24,"Category"),n(),o(25,"mat-select",14)(26,"mat-option",15),d(27," Work "),n(),o(28,"mat-option",15),d(29," Personal "),n(),o(30,"mat-option",15),d(31," Important "),n(),o(32,"mat-option",15),d(33," Travel "),n(),o(34,"mat-option",15),d(35," Friends "),n()()()()(),o(36,"div",9)(37,"div",16)(38,"mat-form-field",11)(39,"mat-label"),d(40,"Start date"),n()()(),o(41,"div",16)(42,"mat-form-field",11)(43,"mat-label"),d(44,"End date"),n()()()(),o(45,"div",9)(46,"div",10)(47,"mat-form-field",11)(48,"mat-label"),d(49,"Event Details"),n(),g(50,"textarea",17),n()()(),o(51,"div",9)(52,"div",18)(53,"div",19)(54,"button",20),h("click",function(){return r.confirmAdd()}),d(55,"Save"),n(),o(56,"button",21),h("click",function(){return r.dialogRef.close()}),d(57,"Cancel"),n()()(),o(58,"div",22),D(59,Ge,4,0,"div",23),n()()()()()),e&2&&(s(6),E(" ",r.dialogTitle,""),s(5),c("formGroup",r.calendarForm),s(15),c("value","work"),s(2),c("value","personal"),s(2),c("value","important"),s(2),c("value","travel"),s(2),c("value","friends"),s(20),c("type",r.submit)("disabled",!r.calendarForm.valid),s(5),c("ngIf",r.showDeleteBtn))},dependencies:[Q,te,K,X,Y,ae,I,se,me,le,ue,pe,fe,ke,ne,he,we,ie,re]}));let a=i;return a})();var $e=["calendar"];function Le(a,i){if(a&1&&(o(0,"div",14),g(1,"app-breadcrumb",15),n()),a&2){let f=i.$implicit;s(),c("title",f.title)("items",f.items)("active_item",f.active)}}function Qe(a,i){if(a&1){let f=x();o(0,"li")(1,"mat-checkbox",16),h("change",function(e){let l=k(f).$implicit,u=_();return F(u.changeCategory(e,l))}),d(2),n()()}if(a&2){let f=i.$implicit;s(),c("checked",f.checked)("value",f.value),s(),E(" ",f.value," ")}}var qe=(()=>{let i=class i extends De{constructor(e,r,l,u){super();t(this,"fb");t(this,"dialog");t(this,"calendarService");t(this,"snackBar");t(this,"calendar");t(this,"addCusForm");t(this,"dialogTitle");t(this,"filterOptions","All");t(this,"calendarData");t(this,"filterItems",["work","personal","important","travel","friends"]);t(this,"filters",[{name:"work",value:"Work",checked:!0},{name:"personal",value:"Personal",checked:!0},{name:"important",value:"Important",checked:!0},{name:"travel",value:"Travel",checked:!0},{name:"friends",value:"Friends",checked:!0}]);t(this,"breadscrums",[{title:"Calendar",items:["Home"],active:"Calendar"}]);this.fb=e,this.dialog=r,this.calendarService=l,this.snackBar=u,this.dialogTitle="Add New Event",this.calendar=new C({}),this.addCusForm=this.createCalendarForm(this.calendar)}ngOnInit(){}addNewEvent(){let e;localStorage.getItem("isRtl")==="true"?e="rtl":e="ltr";let r=this.dialog.open(A,{data:{calendar:this.calendar,action:"add"},direction:e});this.subs.sink=r.afterClosed().subscribe(l=>{l==="submit"&&(this.calendarData=this.calendarService.getDialogData())})}changeCategory(e,r){e.checked?this.filterItems.push(r.name):this.filterItems.splice(this.filterItems.indexOf(r.name),1),this.filterEvent(this.filterItems)}filterEvent(e){}eventClick(e){let r={id:e.event.id,title:e.event.title,category:e.event.groupId,startDate:e.event.start,endDate:e.event.end,details:e.event.extendedProps.details},l;localStorage.getItem("isRtl")==="true"?l="rtl":l="ltr";let u=this.dialog.open(A,{data:{calendar:r,action:"edit"},direction:l});this.subs.sink=u.afterClosed().subscribe(B=>{B==="submit"?(this.calendarData=this.calendarService.getDialogData(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"),this.addCusForm.reset()):B==="delete"&&(this.calendarData=this.calendarService.getDialogData(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}editEvent(e,r){}createCalendarForm(e){return this.fb.group({id:[e.id],title:[e.title,[p.required,p.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]],category:[e.category],startDate:[e.startDate,[p.required]],endDate:[e.endDate,[p.required]],details:[e.details,[p.required,p.pattern("[a-zA-Z]+([a-zA-Z ]+)*")]]})}showNotification(e,r,l,u){this.snackBar.open(r,"",{duration:2e3,verticalPosition:l,horizontalPosition:u,panelClass:e})}getClassNameValue(e){let r;return e==="work"?r="fc-event-success":e==="personal"?r="fc-event-warning":e==="important"?r="fc-event-primary":e==="travel"?r="fc-event-danger":e==="friends"&&(r="fc-event-info"),r}};t(i,"\u0275fac",function(r){return new(r||i)(v(w),v(Ee),v(b),v(Ne))}),t(i,"\u0275cmp",y({type:i,selectors:[["app-calendar"]],viewQuery:function(r,l){if(r&1&&z($e,5),r&2){let u;G(u=$())&&(l.calendar=u.first)}},features:[P],decls:19,vars:2,consts:[[1,"content"],[1,"container-fluid"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-12","col-sm-12"],[1,"card"],[1,"card-body"],[1,"col-md-2","col-sm-12","p-l-30"],[1,"m-b-25"],["mat-raised-button","","color","primary",3,"click"],[1,"filter-container"],[4,"ngFor","ngForOf"],[1,"col-md-10","col-sm-12"],[1,"panel-body"],[1,"block-header"],[3,"title","items","active_item"],["color","primary",3,"checked","value","change"]],template:function(r,l){r&1&&(o(0,"section",0)(1,"div",1),D(2,Le,2,3,"div",2),o(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"div",7)(9,"div",8)(10,"button",9),h("click",function(){return l.addNewEvent()}),d(11,"Add Event"),n()(),o(12,"p"),d(13,"My Calendars"),n(),o(14,"div",10)(15,"ul"),D(16,Qe,3,3,"li",11),n()()(),o(17,"div",12),g(18,"div",13),n()()()()()()()()),r&2&&(s(2),c("ngForOf",l.breadscrums),s(14),c("ngForOf",l.filters))},dependencies:[L,I,je,ye]}));let a=i;return a})();var Ze=[{path:"",component:qe}],Oe=(()=>{let i=class i{};t(i,"\u0275fac",function(e){return new(e||i)}),t(i,"\u0275mod",S({type:i})),t(i,"\u0275inj",M({imports:[T.forChild(Ze),T]}));let a=i;return a})();var Wt=(()=>{let i=class i{};t(i,"\u0275fac",function(e){return new(e||i)}),t(i,"\u0275mod",S({type:i})),t(i,"\u0275inj",M({providers:[b],imports:[Z,j,Oe,Be,ce,de,Fe,Ae,ge,Ie,be,Ce,Te,j,oe,ve,Re,Me,Se]}));let a=i;return a})();export{Wt as CalendarsModule};
